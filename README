<<<<<<< HEAD   (0e11f7 Merge "Switching back to http flickr API per bug 42468")
operations/mediawiki-config.git
-------------------------------

Files in this repository are almost a mirror of the Wikimedia Foundation
cluster configuration.  Ommited files includes passwords and security measures.

*.dblist
 List of databases.

wikiversions.dat, wikiversions.cdb
 Let us associate a database with a specific copy of MediaWiki (generally a
branch). The .cdb file is updated by editing wikiversions.dat first and then
running multiversion/refreshWikiversionsCDB.

docroot/
 The Apache document root for several of our VirtualHosts.

images/
 Shared pictures for the unified login system

live-1.5/
 The docroot for any wiki.

tests/
 Hold some PHPUnit tests.

wmf-config/
 The MediaWiki configuration for all database. Think of it like a huge
LocalSettings.php.

wmf-config/CommonSettings.php
 Generic configuration such as including extensions or calling over piece
of configuration. This is mostly shared among all wikis.

wmf-config/InitialiseSettings.php
 Per wiki configuration.

wmf-config/db.php
 Databases related configuration

wmf-config/mc.php
 Memcached configuration

wmf-config/*-wmflabs.php
 Files used by the beta cluster to override production settings.
=======
For project page see http://www.mediawiki.org/wiki/Heterogeneous_deployment

Changes to be made for this version of Het Deploy:

* Move wmf-config one level up
* Change all references to wmf-confing to have the correct value in LocalSettings.php
* For all new wikis being deployed add a /usr/local/apache/common/wikiversions.db
** A helper script to do this is checked into scripts/cdbmake-12.sh
** A sample file that contains input for cdbmake-12.sh is checked into scripts/wikiversions.dat.sample
* Copy common/php-1.17/cache/trusted-xff.cdb to the new source directory
* Apply patches to CommonSettings.php
* In InitialiseSettings.php make the following change:
'wgCacheDirectory' => array(
    'default' => '/tmp/mw-cache-' . $wgVersionDirectory,
* Create the following new symlinks
** /apache/common/live-1.5/extensions-<version>
** /apache/common/live-1.5/skins-<version>

* TODO: Maintenance script changes are not done yet. Checked in as a patch for now.
>>>>>>> BRANCH (ffc883 Make purgeList wikiless)


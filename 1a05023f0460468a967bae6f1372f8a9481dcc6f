{
  "comments": [
    {
      "key": {
        "uuid": "4e322bf2_cb868a18",
        "filename": "wmf-config/CommonSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 2625,
      "author": {
        "id": 24
      },
      "writtenOn": "2014-08-26T20:21:51Z",
      "side": 1,
      "message": "The beta cluster has a labswiki probably http://deployment.wikimedia.beta.wmflabs.org\n\nSo you need to further harness that condition with  $wmfRealm \u003d\u003d\u003d \u0027production\u0027 \u0026\u0026\n\nNit: use triple equals (paranoia).\n\n\n if ( $wgDBname \u003d\u003d\u003d \u0027labswiki\u0027 \u0026\u0026 $wmfRealm \u003d\u003d\u003d \u0027production\u0027 ) {\n\nSorry :-(",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_4b8f3ad2",
        "filename": "wmf-config/CommonSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 2625,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "OK, but... \u0027labswiki\u0027 is used in a bunch of other places as well, see basically everywhere in InitialiseSettings.php.  Those cases don\u0027t allow for this extra check.  What is \u0027labswiki\u0027 in beta, and can it be renamed?\n\nIn general I\u0027m peeved at the generic use of the term \u0027labs\u0027 throughout this repository to mean \u0027beta\u0027.",
      "parentUuid": "4e322bf2_cb868a18",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_ebb706d2",
        "filename": "wmf-config/CommonSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 2627,
      "author": {
        "id": 24
      },
      "writtenOn": "2014-08-26T20:21:51Z",
      "side": 1,
      "message": "The filename is all lower case:\n\n -Wikitech.php\n +wikitech.php",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_2ba3ce40",
        "filename": "wmf-config/CommonSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 2627,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e322bf2_ebb706d2",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_cbac4a87",
        "filename": "wmf-config/CommonSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 2628,
      "author": {
        "id": 24
      },
      "writtenOn": "2014-08-26T20:21:51Z",
      "side": 1,
      "message": "Per my comment on wmf-config/wikitech.php , remove the function wrapper since the $wg variable have to be in the global scope.",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_0b6812f1",
        "filename": "wmf-config/CommonSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 2628,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e322bf2_cbac4a87",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_eb69461e",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 559,
      "author": {
        "id": 15
      },
      "writtenOn": "2014-08-26T20:38:03Z",
      "side": 1,
      "message": "protocol-relative links? upload logo to commons and link from there like the others above?",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_abb7be80",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 559,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "This setting is exactly as it is set on the current (working) wikitech.  If you are positive that a different value will work without changes elsewhere, please tell me exactly what that value should be.",
      "parentUuid": "4e322bf2_eb69461e",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_ebef0681",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 559,
      "author": {
        "id": 2
      },
      "writtenOn": "2014-08-26T21:15:01Z",
      "side": 1,
      "message": "wikitech is https-only, so protocol relative makes less sense.",
      "parentUuid": "4e322bf2_eb69461e",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_ab157e9e",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 1254,
      "author": {
        "id": 15
      },
      "writtenOn": "2014-08-26T20:31:37Z",
      "side": 1,
      "message": "protocol-relative links like the other wikis?",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_abe9fe7c",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 1254,
      "author": {
        "id": 2
      },
      "writtenOn": "2014-08-26T21:15:01Z",
      "side": 1,
      "message": "Same as above, wikitech is https-only.",
      "parentUuid": "4e322bf2_ab157e9e",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_0b7ed2e1",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 1842,
      "author": {
        "id": 15
      },
      "writtenOn": "2014-08-26T20:34:01Z",
      "side": 1,
      "message": "single quotes everywhere else",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_ab769ed3",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 1842,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e322bf2_0b7ed2e1",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_6b27960e",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 10032,
      "author": {
        "id": 15
      },
      "writtenOn": "2014-08-26T20:31:37Z",
      "side": 1,
      "message": "put on bits in the apple-touch directory with the others? local path vs. URL?",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_6ba9d620",
        "filename": "wmf-config/InitialiseSettings.php",
        "patchSetId": 13
      },
      "lineNbr": 10032,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Again, I\u0027m just reproducing the existing config on wikitech.  I don\u0027t know what any of these settings mean or do, and I\u0027d prefer not to test and debug all possible settings at once when this change rolls out :)",
      "parentUuid": "4e322bf2_6b27960e",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_cb10caaf",
        "filename": "wmf-config/db-eqiad.php",
        "patchSetId": 13
      },
      "lineNbr": 40,
      "author": {
        "id": 589
      },
      "writtenOn": "2014-08-26T20:33:48Z",
      "side": 1,
      "message": "Perhaps move this to it\u0027s own separated section for, good looks? virt1000 in a section of s2 is you know.",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_6b78b6bf",
        "filename": "wmf-config/db-eqiad.php",
        "patchSetId": 13
      },
      "lineNbr": 40,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e322bf2_cb10caaf",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_2ba62ea8",
        "filename": "wmf-config/db-eqiad.php",
        "patchSetId": 13
      },
      "lineNbr": 418,
      "author": {
        "id": 24
      },
      "writtenOn": "2014-08-26T20:21:51Z",
      "side": 1,
      "message": "Make sure the app server will be able to reach mysql on that IP. Might need some ferm:rule to be applied to allow that.",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_8b7be2bc",
        "filename": "wmf-config/db-eqiad.php",
        "patchSetId": 13
      },
      "lineNbr": 418,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Is \u0027the app server\u0027 tin?",
      "parentUuid": "4e322bf2_2ba62ea8",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_6b0d5641",
        "filename": "wmf-config/db-eqiad.php",
        "patchSetId": 13
      },
      "lineNbr": 418,
      "author": {
        "id": 2
      },
      "writtenOn": "2014-08-26T21:17:55Z",
      "side": 1,
      "message": "tin, terbium will need to. otherwise this is running on its own apache so won\u0027t need to be added to general apaches.",
      "parentUuid": "4e322bf2_8b7be2bc",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_262d438c",
        "filename": "wmf-config/db-eqiad.php",
        "patchSetId": 13
      },
      "lineNbr": 418,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:29:27Z",
      "side": 1,
      "message": "I\u0027ve been digging for a bit but don\u0027t see an equivalent ferm rule on our other db servers.  Can you tell me what ports to check and/or point me to an example of where this is done?",
      "parentUuid": "4e322bf2_6b0d5641",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_ebdee613",
        "filename": "wmf-config/wikitech.php",
        "patchSetId": 13
      },
      "lineNbr": 8,
      "author": {
        "id": 24
      },
      "writtenOn": "2014-08-26T20:21:51Z",
      "side": 1,
      "message": "That comes from beta configuration. In the case of wikitech I guess you can just override everything.",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_4b85fa9e",
        "filename": "wmf-config/wikitech.php",
        "patchSetId": 13
      },
      "lineNbr": 8,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e322bf2_ebdee613",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_ab9a1e64",
        "filename": "wmf-config/wikitech.php",
        "patchSetId": 13
      },
      "lineNbr": 20,
      "author": {
        "id": 24
      },
      "writtenOn": "2014-08-26T20:21:51Z",
      "side": 1,
      "message": "All the variable assignment below are made in that function local scope. As soon as you exit the function they magically disappear.\n\nI would remove the function wrapper, and just include the file whenever the database is \u0027labswiki\u0027.",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_0b4ff298",
        "filename": "wmf-config/wikitech.php",
        "patchSetId": 13
      },
      "lineNbr": 20,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e322bf2_ab9a1e64",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_8b2ac2d5",
        "filename": "wmf-config/wikitech.php",
        "patchSetId": 13
      },
      "lineNbr": 34,
      "author": {
        "id": 589
      },
      "writtenOn": "2014-08-26T20:33:48Z",
      "side": 1,
      "message": "InitialiseSettings :)",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e322bf2_6b5f9645",
        "filename": "wmf-config/wikitech.php",
        "patchSetId": 13
      },
      "lineNbr": 34,
      "author": {
        "id": 32
      },
      "writtenOn": "2014-08-26T21:10:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e322bf2_8b2ac2d5",
      "revId": "1a05023f0460468a967bae6f1372f8a9481dcc6f",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    }
  ]
}
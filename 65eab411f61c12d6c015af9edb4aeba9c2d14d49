{
  "comments": [
    {
      "key": {
        "uuid": "561db825_43cc1e44",
        "filename": "wmf-config/Wikibase-production.php",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 2974
      },
      "writtenOn": "2018-04-25T13:38:13Z",
      "side": 1,
      "message": "If I read this correctly, it changes the endpoint only for \u0027testwikidatawiki\u0027. Is that because we want to test it there first (in which case the commit message should reflect this)? Or because I don\u0027t understand how this config works (in which case, I\u0027d love to learn a bit more)?",
      "range": {
        "startLine": 39,
        "startChar": 2,
        "endLine": 39,
        "endChar": 39
      },
      "revId": "65eab411f61c12d6c015af9edb4aeba9c2d14d49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed83a5b1_7ac4990c",
        "filename": "wmf-config/Wikibase-production.php",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 50
      },
      "writtenOn": "2018-04-25T14:09:34Z",
      "side": 1,
      "message": "This is also changed for the \"real\" Wikidata below (line 139), but your observation about this specific line is right ;)\n\nGiven we have the same values for both, we could move this global out of this if completely, but I guess that\u0027s for another change.",
      "parentUuid": "561db825_43cc1e44",
      "range": {
        "startLine": 39,
        "startChar": 2,
        "endLine": 39,
        "endChar": 39
      },
      "revId": "65eab411f61c12d6c015af9edb4aeba9c2d14d49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4a7cb29_72e4897d",
        "filename": "wmf-config/Wikibase-production.php",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 2974
      },
      "writtenOn": "2018-04-26T09:40:21Z",
      "side": 1,
      "message": "Oh, I see now! I was confused by `$wgWBRepoSettings` which still point to `query.wikidata.org`. I have no idea what that is, or if it needs to be moved as well.",
      "parentUuid": "ed83a5b1_7ac4990c",
      "range": {
        "startLine": 39,
        "startChar": 2,
        "endLine": 39,
        "endChar": 39
      },
      "revId": "65eab411f61c12d6c015af9edb4aeba9c2d14d49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bb84124_dbf633c9",
        "filename": "wmf-config/Wikibase-production.php",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 4699
      },
      "writtenOn": "2018-04-26T13:04:30Z",
      "side": 1,
      "message": "It doesn’t really make sense to use the same query service for wikidata and testwikidata anyways, since they contain different entities… but testwikidata currently only supports the “format” constraint type, that’s why it’s okay to use a query service that doesn’t know about testwikidata at all (we only use the REGEX() function).",
      "parentUuid": "e4a7cb29_72e4897d",
      "range": {
        "startLine": 39,
        "startChar": 2,
        "endLine": 39,
        "endChar": 39
      },
      "revId": "65eab411f61c12d6c015af9edb4aeba9c2d14d49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "26e06c6a_6e35baed",
        "filename": "wmf-config/Wikibase-production.php",
        "patchSetId": 2
      },
      "lineNbr": 79,
      "author": {
        "id": 4699
      },
      "writtenOn": "2018-04-26T13:04:30Z",
      "side": 1,
      "message": "As far as I can tell, Wikibase itself uses $wgWBRepoSettings[\u0027sparqlEndpoint\u0027] for two things: it advertises it in action\u003dquery\u0026meta\u003dsiteinfo, and two maintenance scripts use it to discover the defined units and unit conversions. The former should definitely use the public endpoint, but perhaps the maintenance scripts to update the unit configuration should use the internal endpoint as well? Would it make sense to teach Wikibase about the internal SPARQL endpoint as well, in a separate setting?",
      "revId": "65eab411f61c12d6c015af9edb4aeba9c2d14d49",
      "serverId": "e9e9afe9-4712-486d-8885-f54b72dd1951",
      "unresolved": true
    }
  ]
}